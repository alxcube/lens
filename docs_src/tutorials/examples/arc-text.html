<script src="lens.min.js"></script>

<canvas id="text" width="450" height="50"></canvas>

<div id="text_results"></div>

<script>
  var textCanvas              = document.getElementById('text'),
    textCtx                 = textCanvas.getContext('2d'),
    outputContainer         = document.getElementById('text_results');

  textCtx.font                = '40px serif';
  textCtx.textAlign           = 'center';
  textCtx.textBaseline        = 'middle';
  textCtx.fillStyle           = '#000';
  textCtx.fillText('Lorem ipsum dolor sit amet', textCanvas.width / 2, textCanvas.height / 2);

  function arcText(canvas, angle, rotate) {
    var image                     = new lens.image.Canvas(canvas);
    image.virtualPixelMethod      = angle === 360 ? lens.vpx.HORIZONTAL_TILE : lens.vpx.TRANSPARENT;
    lens.distort(image, lens.distorts.ARC, [angle, rotate])
      .then(function (distorted) {
        outputContainer.appendChild(distorted.canvas);
        var p = document.createElement('p');
        p.innerHTML = 'Arc angle: ' + angle + '&deg;'
        outputContainer.appendChild(p);
      });
  }

  [30, 90, 180, 360].forEach(function (angle) {
    arcText(textCanvas, angle, 0);
  });

  var rotated                 = document.createElement('canvas');
  rotated.width               = textCanvas.width;
  rotated.height              = textCanvas.height;
  var rotatedCtx              = rotated.getContext('2d');
  rotatedCtx.translate(rotated.width / 2, rotated.height / 2);
  rotatedCtx.rotate(Math.PI); // Rotate 180 deg
  rotatedCtx.translate(-rotated.width / 2, -rotated.height / 2);
  rotatedCtx.drawImage(textCanvas, 0, 0);

  [30, 90, 180, 360].forEach(function (angle) {
    arcText(rotated, angle, 180);
  });
</script>

<p>See page source code.</p>

^ {@tutorial 03.03.arc}